
######################################################################
 Gate 1: 単体テスト エビデンス
 実行日時: 2026-01-03 15:48:00
######################################################################

======================================================================
 UT-01: 分析プロンプトの品質検証
======================================================================

--- 入力データ ---
  検証対象: ANALYSIS_PROMPT
  文字数: 967 文字
  行数: 90 行

--- プロンプト内容（先頭500文字） ---
--------------------------------------------------

あなたは卓球の専門コーチであり、戦術アナリストです。
以下の動画を詳細に分析し、選手のパフォーマンスを評価してください。

【分析対象選手】
- 名前: {player_name}
- 所属: {team_name}

【評価項目】

## 1. 基本情報
- 利き手（右/左）
- グリップ（シェークハンド/ペンホルダー）
- プレースタイル（攻撃型/守備型/オールラウンド）

## 2. 技術分析

### 2.1 フォアハンドドライブ
- スイング軌道の評価（1-5）
- 打点の適切さ（1-5）
- 体重移動（1-5）
- 回転量（推定：強/中/弱）
- 強み
- 改善点

### 2.2 バックハンドドライブ
- スイング軌道の評価（1-5）
- 打点の適切さ（1-5）
- 安定性（1-5）
- 強み
- 改善点

### 2.3 サーブ
- 種類のバリエーション
- コースの精度（1-5）
- 回転の質（1-5）
- 3球目攻撃への連携
- 強み
- 改善点

### 2.4 レシーブ
- 対応力（1-5）
- 攻撃的レシーブの割合
- 苦手なサーブタイプ
- 強み
- 改善
--------------------------------------------------

--- 合格基準との照合 ---

【FA-01: 得点/失点パターン分析】
  ✅ PASS | 得点パターンの分析指示: 「得点パターン」
         → 該当箇所(行57): ### 3.1 得点パターン...
  ✅ PASS | 失点パターンの分析指示: 「失点パターン」
         → 該当箇所(行61): ### 3.2 失点パターン...
  ✅ PASS | 具体的な数値指定: 「3つ」
         → 該当箇所(行58): - 主な得点パターンを3つ挙げてください...

【FA-02: 技術別パフォーマンス分析】
  ✅ PASS | フォアハンド技術: 「フォアハンド」
         → 該当箇所(行18): ### 2.1 フォアハンドドライブ...
  ✅ PASS | バックハンド技術: 「バックハンド」
         → 該当箇所(行26): ### 2.2 バックハンドドライブ...
  ✅ PASS | サーブ技術: 「サーブ」
         → 該当箇所(行33): ### 2.3 サーブ...
  ✅ PASS | レシーブ技術: 「レシーブ」
         → 該当箇所(行41): ### 2.4 レシーブ...

【FA-03: サーブ/レシーブ分析】
  ✅ PASS | サーブの種類: 「種類」
         → 該当箇所(行34): - 種類のバリエーション...
  ✅ PASS | コースの分析: 「コース」
         → 該当箇所(行35): - コースの精度（1-5）...
  ✅ PASS | 回転の分析: 「回転」
         → 該当箇所(行22): - 回転量（推定：強/中/弱）...

【FA-04: フォーム分析】
  ✅ PASS | スイング軌道: 「スイング」
         → 該当箇所(行19): - スイング軌道の評価（1-5）...
  ✅ PASS | 打点の分析: 「打点」
         → 該当箇所(行20): - 打点の適切さ（1-5）...
  ✅ PASS | 体の使い方: 「体重移動」
         → 該当箇所(行21): - 体重移動（1-5）...

【FA-05: フットワーク分析】
  ✅ PASS | フットワーク: 「フットワーク」
         → 該当箇所(行48): ### 2.5 フットワーク...
  ✅ PASS | 移動の分析: 「移動」
         → 該当箇所(行21): - 体重移動（1-5）...
  ✅ PASS | ポジショニング: 「ポジショニング」
         → 該当箇所(行51): - ポジショニング（1-5）...

【出力形式の指定】
  ✅ PASS | JSON形式指定: 「JSON」
         → 該当箇所(行89): JSON形式で出力してください。...

======================================================================
 UT-01追加: 相手分析プロンプトの品質検証
======================================================================

--- 入力データ ---
  検証対象: OPPONENT_ANALYSIS_PROMPT
  文字数: 525 文字

--- プロンプト内容（先頭400文字） ---
--------------------------------------------------

あなたは卓球の戦術アナリストです。
以下の動画から対戦相手の特徴を分析し、攻略法を提案してください。

【分析対象】
- 相手選手名: {opponent_name}
- 所属: {opponent_team}

【分析項目】

## 1. 基本情報
- 利き手
- グリップ
- プレースタイル

## 2. 技術的特徴

### 2.1 得意技術
- 最も得意な技術
- その技術の特徴

### 2.2 苦手技術
- 苦手と思われる技術
- その根拠

## 3. 戦術的特徴

### 3.1 得点パターン
- 主な得点パターン

### 3.2 失点パターン
- 主な失点パターン

### 3.3 サーブの傾向
- よく使うサーブ
- サーブからの展開

### 3.4 レシーブの傾向
- レシーブの特徴
- 苦手なサーブタイプ

## 4. 弱点と攻略法

### 4.1 弱点（3
--------------------------------------------------

--- 合格基準との照合 ---

【FA-06: 相手の得点/失点パターン分析】
  ✅ PASS | 得点パターン: 「得点パターン」
         → 該当箇所(行28): ### 3.1 得点パターン...
  ✅ PASS | 失点パターン: 「失点パターン」
         → 該当箇所(行31): ### 3.2 失点パターン...

【FA-07: 相手のサーブ/レシーブ傾向分析】
  ✅ PASS | サーブ傾向: 「サーブ」
         → 該当箇所(行34): ### 3.3 サーブの傾向...
  ✅ PASS | レシーブ傾向: 「レシーブ」
         → 該当箇所(行38): ### 3.4 レシーブの傾向...

【FA-08: 相手の弱点特定】
  ✅ PASS | 弱点特定: 「弱点」
         → 該当箇所(行42): ## 4. 弱点と攻略法...
  ✅ PASS | 攻略法: 「攻略」
         → 該当箇所(行3): 以下の動画から対戦相手の特徴を分析し、攻略法を提案してください。...

======================================================================
 UT-02: 戦略プロンプトの品質検証
======================================================================

--- 入力データ ---
  検証対象: STRATEGY_PROMPT
  文字数: 669 文字

--- プロンプト内容（先頭500文字） ---
--------------------------------------------------

あなたは卓球の戦術コーチです。
以下の自己分析と相手分析に基づいて、試合で勝つための具体的な戦略を立案してください。

【自己分析】
{self_analysis}

【相手分析】
{opponent_analysis}

【戦略立案項目】

## 1. サーブ戦略

### 1.1 序盤（1-3点目）
- 推奨サーブ（種類×コース）
- 狙い

### 1.2 中盤（4-8点目）
- 推奨サーブ（種類×コース）
- 狙い

### 1.3 終盤・デュース
- 推奨サーブ（種類×コース）
- 狙い

## 2. レシーブ戦略

### 2.1 相手の短いサーブに対して
- 推奨レシーブ
- 注意点

### 2.2 相手の長いサーブに対して
- 推奨レシーブ
- 注意点

### 2.3 相手の得意サーブに対して
- 推奨レシーブ
- 注意点

## 3. ラリー戦略

### 3.1 攻撃時
- 狙うべきコース
- 攻撃のタイミング

### 3.2 守備時
- 守備の方針
- カウンターのタイミング

### 3.3 相手の弱点を突く方法
- 具体的な攻め方

## 4. 試合運
--------------------------------------------------

--- 合格基準との照合 ---

【FS-01: 対戦相手別戦略シート生成】
  ✅ PASS | 戦略の指示: 「戦略」
         → 該当箇所(行3): 以下の自己分析と相手分析に基づいて、試合で勝つための具体的な戦略を立案してください。...
  ✅ PASS | 自己分析の参照: 「自己分析」
         → 該当箇所(行3): 以下の自己分析と相手分析に基づいて、試合で勝つための具体的な戦略を立案してください。...
  ✅ PASS | 相手分析の参照: 「相手分析」
         → 該当箇所(行3): 以下の自己分析と相手分析に基づいて、試合で勝つための具体的な戦略を立案してください。...

【FS-02: サーブ戦略提案】
  ✅ PASS | サーブ戦略: 「サーブ戦略」
         → 該当箇所(行13): ## 1. サーブ戦略...
  ✅ PASS | 序盤の戦略: 「序盤」
         → 該当箇所(行15): ### 1.1 序盤（1-3点目）...
  ✅ PASS | 中盤の戦略: 「中盤」
         → 該当箇所(行19): ### 1.2 中盤（4-8点目）...
  ✅ PASS | 終盤の戦略: 「終盤」
         → 該当箇所(行23): ### 1.3 終盤・デュース...

【FS-03: レシーブ戦略提案】
  ✅ PASS | レシーブ戦略: 「レシーブ戦略」
         → 該当箇所(行27): ## 2. レシーブ戦略...
  ✅ PASS | 短いサーブへの対応: 「短い」
         → 該当箇所(行29): ### 2.1 相手の短いサーブに対して...
  ✅ PASS | 長いサーブへの対応: 「長い」
         → 該当箇所(行33): ### 2.2 相手の長いサーブに対して...

【FS-04: ラリー展開戦略提案】
  ✅ PASS | ラリー戦略: 「ラリー戦略」
         → 該当箇所(行41): ## 3. ラリー戦略...
  ✅ PASS | 攻撃時の戦略: 「攻撃」
         → 該当箇所(行43): ### 3.1 攻撃時...
  ✅ PASS | 守備時の戦略: 「守備」
         → 該当箇所(行47): ### 3.2 守備時...
  ✅ PASS | 弱点を突く方法: 「弱点」
         → 該当箇所(行51): ### 3.3 相手の弱点を突く方法...

======================================================================
 UT-03: 練習計画プロンプトの品質検証
======================================================================

--- 入力データ ---
  検証対象: PRACTICE_PROMPT
  文字数: 750 文字

--- プロンプト内容（先頭500文字） ---
--------------------------------------------------

あなたは卓球の専門コーチです。
以下の分析結果に基づいて、選手の弱点を克服し、強みを伸ばすための練習計画を作成してください。

【分析結果】
{analysis}

【練習計画作成項目】

## 1. 優先課題（重要度順）

改善すべき課題を重要度順に3つ挙げ、それぞれの理由を説明してください。

## 2. 週間練習計画

### 2.1 Day 1（技術練習）
- 練習内容
- 時間配分
- ポイント

### 2.2 Day 2（戦術練習）
- 練習内容
- 時間配分
- ポイント

### 2.3 Day 3（多球練習）
- 練習内容
- 時間配分
- ポイント

### 2.4 Day 4（試合形式練習）
- 練習内容
- 時間配分
- ポイント

### 2.5 Day 5（課題克服集中練習）
- 練習内容
- 時間配分
- ポイント

## 3. 具体的なドリル

各課題に対する具体的な練習ドリルを提案してください。

### ドリル1
- 名前
- 目的
- 方法
- 時間
- 回数/セット

### ドリル2
- 名前
- 目的
- 方法
- 時間
- 回数/セット
--------------------------------------------------

--- 合格基準との照合 ---

【FP-01: 課題の優先順位付け】
  ✅ PASS | 優先順位の指示: 「優先」
         → 該当箇所(行10): ## 1. 優先課題（重要度順）...
  ✅ PASS | 重要度の指示: 「重要度」
         → 該当箇所(行10): ## 1. 優先課題（重要度順）...

【FP-02: カスタム練習メニュー生成】
  ✅ PASS | 練習メニュー: 「練習」
         → 該当箇所(行3): 以下の分析結果に基づいて、選手の弱点を克服し、強みを伸ばすための練習計画を作成してください。...
  ✅ PASS | 多球練習: 「多球練習」
         → 該当箇所(行26): ### 2.3 Day 3（多球練習）...
  ✅ PASS | 時間配分: 「時間」
         → 該当箇所(行18): - 時間配分...

【FP-03: フォーム改善ドリル提案】
  ✅ PASS | ドリル提案: 「ドリル」
         → 該当箇所(行41): ## 3. 具体的なドリル...
  ✅ PASS | 回数/セット: 「回数」
         → 該当箇所(行50): - 回数/セット...

======================================================================
 Gate 1 総合判定
======================================================================

【テスト結果サマリー】
  UT-01 (分析プロンプト):     ✅ PASS
  UT-01 (相手分析プロンプト): ✅ PASS
  UT-02 (戦略プロンプト):     ✅ PASS
  UT-03 (練習計画プロンプト): ✅ PASS

======================================================================
 ★★★ Gate 1 通過: 全ての単体テストに合格 ★★★
 → Gate 2（統合テスト）に進むことができます
======================================================================
