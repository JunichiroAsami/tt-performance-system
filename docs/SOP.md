> 本書は、AI主導型 卓球パフォーマンス最大化システムの開発・運用における標準作業手順（Standard Operating Procedure）を定義するものです。

# SOP (Standard Operating Procedure)

**プロジェクト名**: AI主導型 卓球パフォーマンス最大化システム
**作成日**: 2026年1月3日
**作成者**: Manus AI

---

## 1. 目的

本プロジェクトにおける全ての作業を標準化し、品質の維持・向上、作業の効率化、属人性の排除を図ることを目的とする。

---

## 2. 適用範囲

本SOPは、本プロジェクトに関わる全てのタスクに適用される。

---

## 3. ドキュメント管理 SOP

### 3.1. 標準ドキュメント

本プロジェクトでは、以下の6つの標準ドキュメントを必ず作成し、管理する。

1.  **プロジェクト計画書**: 方針、目標、戦略を定義
2.  **WBS**: プロジェクトをタスクレベルまで分解
3.  **ドキュメントリスト**: プロジェクト内のすべてのドキュメントを一元管理
4.  **進捗管理表**: プロジェクトの進捗をリアルタイムで把握
5.  **課題管理表**: プロジェクト実行中に発生した課題を管理
6.  **SOP**: プロジェクト固有の標準的なプロセスを定義

### 3.2. バージョン管理

-   全てのドキュメントとソースコードは、GitHub上でバージョン管理を行う。
-   コミットメッセージは、変更内容が明確にわかるように記述する (`feat:`, `fix:`, `docs:` など)。

### 3.3. 最新版の維持

-   全てのドキュメントは、常に最新の状態に保つ。
-   `docs/document_list.md` を参照し、各ドキュメントの最新版を確認する。

---

## 4. 開発 SOP

### 4.1. 開発プロセス

1.  **要件定義**: ユーザーの要求をヒアリングし、`business_requirements.md` を作成する。
2.  **設計**: 要件定義書に基づき、`system_architecture.md` 等の設計書を作成する。
3.  **実装**: 設計書に基づき、Pythonで実装を行う。
4.  **テスト**: `pytest` を用いて、単体・統合・E2Eテストを実装・実行する。
5.  **レビュー**: (本プロジェクトでは自己レビュー) コードとドキュメントの品質を確認する。
6.  **マージ**: レビュー後、mainブランチにマージする。

### 4.2. コーディング規約

-   **フォーマット**: `black` を使用する。
-   **静的解析**: `flake8` を使用する。
-   **命名規則**: 変数・関数はスネークケース (`snake_case`)、クラスはキャメルケース (`CamelCase`) とする。

---

## 5. テスト SOP

### 5.1. テストの種類

-   **単体テスト**: 各モジュール・関数が独立して正しく動作することを確認する。
-   **統合テスト**: 複数のモジュールを結合した際に、連携が正しく行われることを確認する。
-   **E2Eテスト**: システム全体が、ユーザー視点で期待通りに動作することを確認する。

### 5.2. テスト実行

-   コードの変更後は、必ず関連する全てのテストを実行し、PASSすることを確認する。
-   GitHubへのプッシュ前には、全テストスイートを実行する。

---

## 6. タスク実行と報告 SOP

### 6.1. タスク実行

1.  **WBS確認**: `docs/WBS.md` を参照し、担当するタスクの「インプット」と「成果物」を正確に把握する。
2.  **インプット利用**: タスク実行に必要なインプットドキュメントを必ず参照する。
3.  **SOP遵守**: 本SOPに定義された手順に従ってタスクを実行する。
4.  **成果物作成**: WBSで定義された成果物を作成する。

### 6.2. 報告

-   タスク完了後、ユーザーに対して以下の点を明確に報告する。
    -   完了したタスク（WBS IDとタスク名）
    -   作成した成果物（ファイルパス）
    -   **WBSおよびSOPに準拠して処理が行われたこと**
-   進捗管理表 (`docs/progress_tracker.md`) を更新する。
-   発生した課題は課題管理表 (`docs/issue_tracker.md`) に記録する。

---

## 7. 本SOPの更新

-   本SOPは、プロジェクトの進行やプロセスの改善に伴い、継続的に更新する。
-   更新の際は、プロジェクト計画書との整合性を確認する。


---

## 8. 標準テンプレート

### 8.1. WBS テンプレート

| WBS ID | タスク名 | インプット | 成果物 | 担当 | 状態 | 開始日 | 完了日 | 備考 |
|:---|:---|:---|:---|:---|:---:|:---:|:---:|:---|
| **1.0** | **フェーズ1** | - | - | - | - | - | - | - |
| 1.1 | タスク1.1 | - | - | - | - | - | - | - |
| 1.2 | タスク1.2 | - | - | - | - | - | - | - |

### 8.2. 進捗管理表 テンプレート

| WBS ID | タスク名 | 担当 | 状態 | 開始日 | 完了日 | 備考 |
|:---|:---|:---|:---:|:---:|:---:|:---|
| 1.1 | タスク1.1 | (担当者名) | ❌未着手 | - | - | - |

### 8.3. 課題管理表 テンプレート

| 課題ID | 課題名 | 発生日 | 担当 | 優先度 | 状態 | 完了日 | 備考 |
|:---|:---|:---:|:---|:---:|:---:|:---:|:---|
| 001 | (課題名) | (日付) | (担当者名) | 高/中/低 | オープン | - | - |
