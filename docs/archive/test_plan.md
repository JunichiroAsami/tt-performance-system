# テスト計画書 v1.0

**ドキュメントID**: QA-06  
**バージョン**: 1.0  
**作成日**: 2026年1月4日  
**作成者**: Manus AI (PM)  
**ステータス**: 作成中

---

## 1. 目的

本ドキュメントは、テストの実行順序、ゲート（関門）の設定、および各ゲートの通過条件を定義する。

---

## 2. ゲート設計

### 2.1. ゲート概要

```
┌─────────────────────────────────────────────────────────────────────────┐
│                           開発フロー                                     │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  [開発完了] ──▶ [Gate 1] ──▶ [Gate 2] ──▶ [Gate 3] ──▶ [UAT] ──▶ [リリース]│
│                  単体        統合        E2E                            │
│                                                                         │
│  ※ 各ゲートを通過しないと次のフェーズに進めない                          │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

### 2.2. Gate 1: 単体テストゲート

| 項目 | 内容 |
|:---|:---|
| **ゲート名** | Gate 1: 単体テストゲート |
| **目的** | プロンプトの品質が業務要件を満たすことを確認 |
| **実行テスト** | UT-01, UT-02, UT-03 |
| **通過条件** | |
| 必須 | 全ての単体テストが合格（PASSED） |
| 必須 | 各プロンプトに業務要件の全項目が含まれている |
| 必須 | 卓球用語が正確に使用されている |
| **不通過時のアクション** | プロンプトを修正し、再テスト |
| **次のフェーズ** | Gate 2: 統合テストゲート |

---

### 2.3. Gate 2: 統合テストゲート

| 項目 | 内容 |
|:---|:---|
| **ゲート名** | Gate 2: 統合テストゲート |
| **目的** | 出力内容の品質が業務要件を満たすことを確認 |
| **前提条件** | Gate 1を通過していること |
| **実行テスト** | IT-01, IT-02, IT-03 |
| **通過条件** | |
| 必須 | 全ての統合テストが合格（PASSED） |
| 必須 | 出力に具体的な卓球用語・技術名が含まれている |
| 必須 | 改善点が「〜を〜する」形式で記載されている |
| 必須 | 数値データ（評価スコア等）が妥当な範囲内 |
| **不通過時のアクション** | 出力スキーマまたはプロンプトを修正し、Gate 1から再テスト |
| **次のフェーズ** | Gate 3: E2Eテストゲート |

---

### 2.4. Gate 3: E2Eテストゲート

| 項目 | 内容 |
|:---|:---|
| **ゲート名** | Gate 3: E2Eテストゲート |
| **目的** | エンドツーエンドで業務要件が満たされ、実用可能であることを確認 |
| **前提条件** | Gate 2を通過していること |
| **実行テスト** | E2E-01, E2E-02, E2E-03, E2E-04 |
| **通過条件** | |
| 必須 | 全てのE2Eテストが合格（PASSED） |
| 必須 | 全フローがエラーなく完了する |
| 必須 | 出力が選手・コーチが理解・活用できる品質 |
| 必須 | 非機能要件（NF-02: 可読性）を満たす |
| **不通過時のアクション** | 該当箇所を修正し、Gate 1から再テスト |
| **次のフェーズ** | UAT（ユーザー受入テスト） |

---

### 2.5. Gate 4: UATゲート（参考）

| 項目 | 内容 |
|:---|:---|
| **ゲート名** | Gate 4: UATゲート |
| **目的** | 実際の動画で実用性を確認 |
| **前提条件** | Gate 3を通過していること |
| **実行テスト** | 浅見選手の実際の試合動画を使用した検証 |
| **通過条件** | |
| 必須 | 浅見選手またはコーチが出力を「活用できる」と判断 |
| 必須 | 戦略シートが試合前の準備に使用可能 |
| 必須 | 練習計画が実際の練習で実行可能 |
| **不通過時のアクション** | フィードバックを基に修正し、Gate 1から再テスト |
| **次のフェーズ** | 本番リリース |

---

## 3. テスト実行計画

### 3.1. 実行順序

| 順序 | テストID | テスト名 | 所要時間目安 |
|:---:|:---|:---|:---:|
| 1 | UT-01 | 分析プロンプトの品質検証 | 5分 |
| 2 | UT-02 | 戦略プロンプトの品質検証 | 5分 |
| 3 | UT-03 | 練習計画プロンプトの品質検証 | 5分 |
| - | **Gate 1 判定** | 単体テスト合格確認 | - |
| 4 | IT-01 | 分析出力の品質検証 | 10分 |
| 5 | IT-02 | 戦略出力の品質検証 | 10分 |
| 6 | IT-03 | 練習計画出力の品質検証 | 10分 |
| - | **Gate 2 判定** | 統合テスト合格確認 | - |
| 7 | E2E-01 | 分析フロー完全検証 | 15分 |
| 8 | E2E-02 | 戦略生成フロー完全検証 | 15分 |
| 9 | E2E-03 | 練習計画生成フロー完全検証 | 15分 |
| 10 | E2E-04 | レポート生成フロー完全検証 | 10分 |
| - | **Gate 3 判定** | E2Eテスト合格確認 | - |

### 3.2. エビデンス取得方法

各テストにおいて、以下のエビデンスを取得する：

| エビデンス項目 | 内容 | 形式 |
|:---|:---|:---|
| **入力データ** | テストに使用した入力（ファイル、パラメータ） | スクリーンショット/テキスト |
| **実行コマンド** | 実行したコマンドまたはコード | テキスト |
| **実行結果画面** | テスト実行後の画面出力 | スクリーンショット |
| **出力データ** | 生成された出力（JSON、レポート等） | ファイル/テキスト |
| **合格判定** | 合格基準との照合結果 | チェックリスト |

---

## 4. 合格判定チェックリスト

### 4.1. Gate 1 チェックリスト

| No | 確認項目 | 合格基準 | 結果 |
|:---:|:---|:---|:---:|
| 1 | FA-01対応 | 「得点パターン」「失点パターン」の分析指示がある | □ |
| 2 | FA-02対応 | 4技術（フォア、バック、サーブ、レシーブ）の分析指示がある | □ |
| 3 | FA-03対応 | サーブ/レシーブの詳細分析指示がある | □ |
| 4 | FA-04対応 | フォーム分析の指示がある | □ |
| 5 | FA-05対応 | フットワーク分析の指示がある | □ |
| 6 | FS-01対応 | 戦略シート生成の指示がある | □ |
| 7 | FS-02対応 | サーブ戦略提案の指示がある | □ |
| 8 | FS-03対応 | レシーブ戦略提案の指示がある | □ |
| 9 | FS-04対応 | ラリー戦略提案の指示がある | □ |
| 10 | FP-01対応 | 課題の優先順位付け指示がある | □ |
| 11 | FP-02対応 | 練習メニュー生成の指示がある | □ |
| 12 | FP-03対応 | ドリル提案の指示がある | □ |
| 13 | 卓球用語 | 正確な卓球用語が使用されている | □ |

**Gate 1 通過条件**: 全項目にチェックが入ること

---

### 4.2. Gate 2 チェックリスト

| No | 確認項目 | 合格基準 | 結果 |
|:---:|:---|:---|:---:|
| 1 | 得点パターン | 3件以上、各10文字以上、卓球用語含む | □ |
| 2 | 失点パターン | 3件以上、各10文字以上、卓球用語含む | □ |
| 3 | 技術分析 | 4技術以上、評価スコアと改善点含む | □ |
| 4 | 改善点の具体性 | 「〜を〜する」形式のアクション含む | □ |
| 5 | サーブ戦略 | 3種類以上のパターンと狙い | □ |
| 6 | レシーブ戦略 | 短い/長いサーブへの対応 | □ |
| 7 | ラリー戦略 | 攻撃時/守備時の展開 | □ |
| 8 | 優先課題 | 3件以上、優先度明記 | □ |
| 9 | 練習メニュー | 具体的な練習形式と時間目安 | □ |
| 10 | 数値の妥当性 | 評価スコアが1-5の範囲内 | □ |

**Gate 2 通過条件**: 全項目にチェックが入ること

---

### 4.3. Gate 3 チェックリスト

| No | 確認項目 | 合格基準 | 結果 |
|:---:|:---|:---|:---:|
| 1 | 分析フロー | エラーなく完了、JSON出力 | □ |
| 2 | 戦略フロー | エラーなく完了、戦略シート出力 | □ |
| 3 | 練習計画フロー | エラーなく完了、練習計画出力 | □ |
| 4 | レポートフロー | エラーなく完了、Markdown出力 | □ |
| 5 | 可読性 | 専門知識なしで理解可能 | □ |
| 6 | 実行可能性 | 具体的なアクションが取れる内容 | □ |
| 7 | 参照可能性 | 試合/練習中に参照可能な分量 | □ |

**Gate 3 通過条件**: 全項目にチェックが入ること

---

## 5. 変更履歴

| 日付 | バージョン | 変更内容 | 作成者 |
|:---|:---|:---|:---|
| 2026-01-04 | 1.0 | 初版作成 | PM |
