# 業務要件書：AI主導型 卓球パフォーマンス最大化システム

## 1. 概要

### 1.1. 背景と目的

本プロジェクトは、文化学園大学杉並高等学校の浅見江里佳選手の卓球における競技成績を最大化することを目的とする。そのために、映像データを基にAIが「深い分析」「練習計画」「試合戦略」までを一貫して主導する、次世代のパフォーマンス分析システムを構築する。

従来の人間の目による分析に加え、AIによる定量的・定性的なデータを組み合わせることで、選手の潜在能力を最大限に引き出し、勘や経験則に頼らないデータドリブンな強化サイクルを実現する。

### 1.2. プロジェクトスコープ

| 対象 | 詳細 |
|:---|:---|
| **IN SCOPE（対象内）** | - 試合・練習動画の多角的分析<br>- 選手個人の強み・弱みの特定<br>- 対戦相手の分析（動画がある場合）<br>- 試合ごとの具体的な戦略立案<br>- 課題克服のための練習計画策定<br>- パフォーマンスの時系列トラッキング |
| **OUT OF SCOPE（対象外）** | - リアルタイムでの試合中フィードバック<br>- 選手の心理状態の直接的なカウンセリング<br>- 物理的なトレーニング機器との連携<br>- 本システム単体での商業利用 |

### 1.3. 主要関係者

| 関係者 | 役割 |
|:---|:---|
| **浅見 江里佳 選手** | システムの最終利用者、フィードバック提供者 |
| **コーチ・指導者** | AIの分析結果の解釈、練習への適用、戦略の最終決定 |
| **システム開発者 (Manus)** | 本要件書に基づくシステムの設計・構築・保守 |

---

## 2. 機能要件

### 2.1. 分析モジュール

#### 2.1.1. 自己分析機能

| 要件ID | 要件 | 詳細 |
|:---|:---|:---|
| FA-01 | 得点/失点パターン分析 | どの技術、コース、展開で得点・失点したかを自動で分類・集計する。 |
| FA-02 | 技術別パフォーマンス分析 | フォアハンド、バックハンド、サーブ等の技術ごとの成功率、決定率、ミス率を算出する。 |
| FA-03 | サーブ/レシーブ分析 | サーブの種類・コースごとの3球目までの展開と得点率を分析。レシーブからの展開パターンも同様に分析する。 |
| FA-04 | フォーム分析 | 主要な技術（ドライブ、スマッシュ等）のスイング軌道、打点、体の使い方を理想的なフォームと比較し、改善点を指摘する。 |
| FA-05 | フットワーク分析 | プレー中の移動距離、反応速度、コートカバー率を算出し、効率性を評価する。 |

#### 2.1.2. 相手分析機能

| 要件ID | 要件 | 詳細 |
|:---|:---|:---|
| FA-06 | 相手の得点/失点パターン分析 | 対戦相手の動画から、得意な展開と苦手な展開を特定する。 |
| FA-07 | 相手のサーブ/レシーブ傾向分析 | 対戦相手のサーブの種類、コース、回転の頻度を分析。レシーブの癖や傾向も同様に分析する。 |
| FA-08 | 相手の弱点特定 | 相手がどのコース、どの技術、どの展開で失点する傾向にあるかをハイライトする。 |

### 2.2. 戦略・練習提案モジュール

#### 2.2.1. 試合戦略立案機能

| 要件ID | 要件 | 詳細 |
|:---|:---|:---|
| FS-01 | 対戦相手別戦略シート生成 | 自己分析(FA-01~05)と相手分析(FA-06~08)の結果を基に、具体的な試合戦略をA4一枚程度のシートで自動生成する。 |
| FS-02 | サーブ戦略提案 | 相手のレシーブ傾向に基づき、試合の各場面で有効なサーブの種類とコースを提案する。 |
| FS-03 | レシーブ戦略提案 | 相手のサーブ傾向に基づき、安全なレシーブと攻撃的なレシーブの使い分けを提案する。 |
| FS-04 | ラリー展開戦略提案 | 相手の弱点を突くための攻撃コースや、自分が優位に立てるラリー展開を提案する。 |

#### 2.2.2. 練習計画立案機能

| 要件ID | 要件 | 詳細 |
|:---|:---|:---|
| FP-01 | 課題の優先順位付け | 失点パターン分析(FA-01)に基づき、最も改善インパクトの大きい課題を自動で特定し、優先順位を付ける。 |
| FP-02 | カスタム練習メニュー生成 | 特定された課題を克服するための具体的な練習メニュー（多球練習、システム練習など）を複数提案する。 |
| FP-03 | フォーム改善ドリル提案 | フォーム分析(FA-04)で指摘された問題点を修正するための、素振りや特定のドリルを提案する。 |

### 2.3. レポート・可視化機能

| 要件ID | 要件 | 詳細 |
|:---|:---|:---|
| FR-01 | 試合後サマリーレポート | 試合全体のパフォーマンスをまとめたレポートを生成。戦略実行度、勝因、敗因を簡潔に記述する。 |
| FR-02 | パフォーマンスダッシュボード | 各種分析データ（得点率、技術成功率など）を時系列でグラフ化し、成長と停滞を可視化する。 |
| FR-03 | プレー動画へのアノテーション | 分析結果（例：「失点原因：バックハンドのミス」）を動画の該当箇所に自動で字幕表示する。 |

---

## 3. 非機能要件

| 要件ID | 分類 | 要件 |
|:---|:---|:---|
| NF-01 | パフォーマンス | 10分程度の試合動画をアップロード後、30分以内に全ての分析とレポート生成を完了させる。 |
| NF-02 | ユーザビリティ | 全てのレポートと戦略シートは、専門知識がなくても理解できるよう、平易な言葉と視覚的なグラフで構成される。 |
| NF-03 | データ入力 | 入力データは一般的なスマートフォンやビデオカメラで撮影した動画ファイル（MP4, MOV等）とする。 |
| NF-04 | 技術スタック | Gemini API, OpenCV, MediaPipe, Pythonを主軸とし、オープンソース技術を積極的に活用する。 |
| NF-05 | セキュリティ | 分析対象の動画データおよび分析結果は、許可された関係者以外には一切公開されないこと。 |

---

## 4. 成功の評価指標

| 指標 | 詳細 |
|:---|:---|
| **勝率の向上** | 本システム導入後の公式戦・練習試合における勝率が、導入前と比較して有意に向上する。 |
| **課題克服速度** | レポートで指摘された「弱み」が、その後の試合で改善されるまでの期間が短縮される。 |
| **戦略実行率** | AIが提案した試合戦略が、実際の試合でどの程度実行されたかを評価し、その実行率が向上する。 |
| **利用者満足度** | 浅見選手およびコーチが、本システムの分析結果や提案に満足し、日々の練習に活用していると実感できる。 |
